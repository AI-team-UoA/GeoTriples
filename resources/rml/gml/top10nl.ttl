@prefix rr: <http://www.w3.org/ns/r2rml#>.
@prefix  rml: <http://semweb.mmlab.be/ns/rml#> .
@prefix ql: <http://semweb.mmlab.be/ns/ql#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#>.
@prefix ex: <http://www.example.com/> .
@base <http://example.com/base> .
@prefix rrx: <http://www.w3.org/ns/r2rml-ext#>.
@prefix rrxf: <http://www.w3.org/ns/r2rml-ext/functions/def/>.
@prefix ogc: <http://www.opengis.net/ont/geosparql#>.
@prefix aaa: <http://www.myphotos.org/> .
@prefix gml: <http://www.opengis.net/gml/> . 
@prefix topo: <http://data.linkedeodata.eu/top10nl/ontology#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .


<#mapping1>
rml:logicalSource [ 
	rml:source "/home/giannis/gml-study/TOP10NL_01O.gml";
#	rml:source "/home/giannis/gml-study/lol.gml";
        rml:referenceFormulation ql:XPath;
	rml:iterator "//*[local-name()='featureMember']";
];
    rr:subjectMap [
    	rr:template "http://data.linkedeodata.eu/top10nl/{fn:local-name(./*)}/id/{./*/@*[local-name()='id' and namespace-uri()='http://www.opengis.net/gml']}"; 
    ];
    rr:predicateObjectMap [
     	rr:predicate rdf:type;
     	rr:objectMap [ 
		rr:template "http://data.linkedeodata.eu/top10nl/ontology#{fn:local-name(./*)}";
	];
    ];
    rr:predicateObjectMap [
	rr:predicate topo:aantalInwoners;
	rr:objectMap [
		rr:template "{./*/*[local-name()='aantalInwoners']/text()}";
		rr:datatype xsd:integer;
	];
    ];
    rr:predicateObjectMap [
	rr:predicate topo:breedteklasse;
	rr:objectMap [
		rr:template "{./*/*[local-name()='breedteklasse']/text()}";
		rr:datatype xsd:string;
	];
    ];
    rr:predicateObjectMap [
	rr:predicate topo:bronactualiteit;
	rr:objectMap [
		rr:template "{./*/*[local-name()='bronactualiteit']/text()}";
		rr:datatype xsd:date;
	];
    ];
    rr:predicateObjectMap [
	rr:predicate topo:bronbeschrijving;
	rr:objectMap [
		rr:template "{./*/*[local-name()='bronbeschrijving']/text()}";
		rr:datatype xsd:string;
	];
    ];
    rr:predicateObjectMap [
	rr:predicate topo:bronnauwkeurigheid;
	rr:objectMap [
		rr:template "{./*/*[local-name()='bronnauwkeurigheid']/text()}";
		rr:datatype xsd:float;
	];
    ];
    rr:predicateObjectMap [
	rr:predicate topo:brontype;
	rr:objectMap [
		rr:template "{./*/*[local-name()='brontype']/text()}";
		rr:datatype xsd:string;
	];
    ];
    rr:predicateObjectMap [
	rr:predicate topo:dimensie;
	rr:objectMap [
		rr:template "{./*/*[local-name()='dimensie']/text()}";
		rr:datatype xsd:string;
	];
    ];
    rr:predicateObjectMap [
	rr:predicate topo:functie;
	rr:objectMap [
		rr:template "{./*/*[local-name()='functie']/text()}";
		rr:datatype xsd:string;
	];
    ];
    rr:predicateObjectMap [
	rr:predicate topo:fysiekVoorkomen;
	rr:objectMap [
		rr:template "{./*/*[local-name()='fysiekVoorkomen']/text()}";
		rr:datatype xsd:string;
	];
    ];
    rr:predicateObjectMap [
    	rr:predicate topo:geometrieLijn;
    	rr:objectMap [
		rrx:function rrxf:asWKT;
		rrx:argumentMap ([rml:reference "./*/*[local-name()='geometrieLijn']/*[1]";]);
		rr:datatype ogc:wktLiteral;
	];
    ];
    rr:predicateObjectMap [
	rr:predicate topo:geometriePunt;
	rr:objectMap [
	rrx:function rrxf:asWKT;
		rrx:argumentMap ([rml:reference "./*/*[local-name()='geometriePunt']/*[1]";]);
		rr:datatype ogc:wktLiteral;
	];
   ];
    rr:predicateObjectMap [
	rr:predicate topo:geometrieVlak;
	rr:objectMap [
		rrx:function rrxf:asWKT;
		rrx:argumentMap ([rml:reference "./*/*[local-name()='geometrieVlak']/*[1]";]);
		rr:datatype ogc:wktLiteral;
	];
    ];
    rr:predicateObjectMap [
	rr:predicate topo:gescheidenRijbaan;
	rr:objectMap [
		rr:template "{./*/*[local-name()='gescheidenRijbaan']/text()}";
		rr:datatype xsd:string;
	];
	#try to change it to boolean if possible
    ];
    rr:predicateObjectMap [
	rr:predicate topo:hartLijn;
	rr:objectMap [
		rrx:function rrxf:asWKT;
		rrx:argumentMap ([rml:reference "./*/*[local-name()='hartLijn']/*[1]";]);
		rr:datatype ogc:wktLiteral;
	];
   ];
    rr:predicateObjectMap [
	rr:predicate topo:hartPunt;
	rr:objectMap [
		rrx:function rrxf:asWKT;
		rrx:argumentMap ([rml:reference "./*/*[local-name()='hartPunt']/*[1]";]);
		rr:datatype ogc:wktLiteral;
	];
    ];
    rr:predicateObjectMap [
	rr:predicate topo:hogeZijde;
	rr:objectMap [
		rrx:function rrxf:asWKT;
		rrx:argumentMap ([rml:reference "./*/*[local-name()='hogeZijde']/*[1]";]);
		rr:datatype ogc:wktLiteral;
	];
    ];
    rr:predicateObjectMap [
	rr:predicate topo:hoofdafwatering;
	rr:objectMap [
		rr:template "{./*/*[local-name()='hoofdafwatering']/text()}";
		rr:datatype xsd:string;
	];
	#try to change it to boolean
    ];
    rr:predicateObjectMap [
	rr:predicate topo:hoofdverkeersgebruik;
	rr:objectMap [
		rr:template "{./*/*[local-name()='hoofdverkeersgebruik']/text()}";
		rr:datatype xsd:string;
	];
    ];
    rr:predicateObjectMap [
	rr:predicate topo:hoogte;
	rr:objectMap [
		rr:template "{./*/*[local-name()='hoogte']/text()}";
		rr:datatype xsd:float;
	];
    ];
    rr:predicateObjectMap [
	rr:predicate topo:hoogteklasse;
	rr:objectMap [
		rr:template "{./*/*[local-name()='hoogteklasse']/text()}";
		rr:datatype xsd:string;
	];
    ];
    rr:predicateObjectMap [
	rr:predicate topo:hoogteniveau;
	rr:objectMap [
		rr:template "{./*/*[local-name()='hoogteniveau']/text()}";
		rr:datatype xsd:integer;
	];
    ];
    rr:predicateObjectMap [
	rr:predicate topo:identificatie;
	rr:objectMap [
		rr:template "{./*/*[local-name()='identificatie']/text()}";
		rr:datatype xsd:string;
	];
    ];
   rr:predicateObjectMap [
	rr:predicate topo:labelPunt;
	rr:objectMap [
		rrx:function rrxf:asWKT;
		rr:template "{./*/*[local-name()='labelPunt']/*[1]}";
		rr:datatype xsd:string;
	];
    ];
    rr:predicateObjectMap [
	rr:predicate topo:lageZijde;
	rr:objectMap [
		rrx:function rrxf:asWKT;
		rrx:argumentMap ([rml:reference "./*/*[local-name()='lageZijde']/*[1]";]);
		rr:datatype ogc:wktLiteral;
	];
    ];
    rr:predicateObjectMap [
	rr:predicate topo:naamFries;
	rr:objectMap [
		rr:template "{./*/*[local-name()='naamFries']/text()}";
		rr:datatype xsd:string;
	];
    ];
    rr:predicateObjectMap [
	rr:predicate topo:naamNL;
	rr:objectMap [
		rr:template "{./*/*[local-name()='naamNL']/text()}";
		rr:datatype xsd:string;
	];
    ];
    rr:predicateObjectMap [
	rr:predicate topo:nummer;
	rr:objectMap [
		rr:template "{./*/*[local-name()='nummer']/text()}";
		rr:datatype xsd:string;
	];
    ];
    rr:predicateObjectMap [
	rr:predicate topo:objectBeginTijd;
	rr:objectMap [
		rr:template "{./*/*[local-name()='objectBeginTijd']/text()}";
		rr:datatype xsd:datetime;
	];
    ];
    rr:predicateObjectMap [
	rr:predicate topo:status;
	rr:objectMap [
		rr:template "{./*/*[local-name()='status']/text()}";
		rr:datatype xsd:string;
	];
    ];
    rr:predicateObjectMap [
	rr:predicate topo:straatnaamNL;
	rr:objectMap [
		rr:template "{./*/*[local-name()='straatnaamNL']/text()}";
		rr:datatype xsd:string;
	];
    ];
    rr:predicateObjectMap [
	rr:predicate topo:tdnCode;
	rr:objectMap [
		rr:template "{./*/*[local-name()='tdnCode']/text()}";
		rr:datatype xsd:integer;
	];
    ];
    rr:predicateObjectMap [
	rr:predicate topo:typeFunctioneelGebied;
	rr:objectMap [
		rr:template "{./*/*[local-name()='typeFunctioneelGebied']/text()}";
		rr:datatype xsd:string;
	];
    ];
    rr:predicateObjectMap [
	rr:predicate topo:typeGebouw;
	rr:objectMap [
		rr:template "{./*/*[local-name()='typeGebouw']/text()}";
		rr:datatype xsd:string;
	];
    ];
    rr:predicateObjectMap [
	rr:predicate topo:typeGeografischGebied;
	rr:objectMap [
		rr:template "{./*/*[local-name()='typeGeografischGebied']/text()}";
		rr:datatype xsd:string;
	];
    ];
    rr:predicateObjectMap [
	rr:predicate topo:typeInfrastructuurWaterdeel;
	rr:objectMap [
		rr:template "{./*/*[local-name()='typeInfrastructuurWaterdeel']/text()}";
		rr:datatype xsd:string;
	];
    ];
    rr:predicateObjectMap [
	rr:predicate topo:typeInfrastructuurWegdeel;
	rr:objectMap [
		rr:template "{./*/*[local-name()='typeInfrastructuurWegdeel']/text()}";
		rr:datatype xsd:string;
	];
    ];
    rr:predicateObjectMap [
	rr:predicate topo:typeInrichtingselement;
	rr:objectMap [
		rr:template "{./*/*[local-name()='typeInrichtingselement']/text()}";
		rr:datatype xsd:string;
	];
    ];
    rr:predicateObjectMap [
	rr:predicate topo:typeLandgebruik;
	rr:objectMap [
		rr:template "{./*/*[local-name()='typeLandgebruik']/text()}";
		rr:datatype xsd:string;
	];
    ];
    rr:predicateObjectMap [
	rr:predicate topo:typeRegistratiefGebied;
	rr:objectMap [
		rr:template "{./*/*[local-name()='typeRegistratiefGebied']/text()}";
		rr:datatype xsd:string;
	];
    ];
    rr:predicateObjectMap [
	rr:predicate topo:typeRelief;
	rr:objectMap [
		rr:template "{./*/*[local-name()='typeRelief']/text()}";
		rr:datatype xsd:string;
	];
    ];
    rr:predicateObjectMap [
	rr:predicate topo:typeWater;
	rr:objectMap [
		rr:template "{./*/*[local-name()='typeWater']/text()}";
		rr:datatype xsd:string;
	];
    ];
    rr:predicateObjectMap [
	rr:predicate topo:typeWeg;
	rr:objectMap [
		rr:template "{./*/*[local-name()='typeWeg']/text()}";
		rr:datatype xsd:string;
	];
    ];
    rr:predicateObjectMap [
	rr:predicate topo:verhardingsbreedteklasse;
	rr:objectMap [
		rr:template "{./*/*[local-name()='verhardingsbreedteklasse']/text()}";
		rr:datatype xsd:string;
	];
    ];
    rr:predicateObjectMap [
	rr:predicate topo:verhardingstype;
	rr:objectMap [
		rr:template "{./*/*[local-name()='verhardingstype']/text()}";
		rr:datatype xsd:string;
	];
    ];
    rr:predicateObjectMap [
	rr:predicate topo:versieBeginTijd;
	rr:objectMap [
		rr:template "{./*/*[local-name()='versieBeginTijd']/text()}";
		rr:datatype xsd:datetime;
	];
    ];
    rr:predicateObjectMap [
	rr:predicate topo:visualisatieCode;
	rr:objectMap [
		rr:template "{./*/*[local-name()='visualisatieCode']/text()}";
		rr:datatype xsd:integer;
	];
    ];
    rr:predicateObjectMap [
	rr:predicate topo:voorkomen;
	rr:objectMap [
		rr:template "{./*/*[local-name()='voorkomen']/text()}";
		rr:datatype xsd:string;
	];
    ];
    rr:predicateObjectMap [
	rr:predicate topo:voorkomenWater;
	rr:objectMap [
		rr:template "{./*/*[local-name()='voorkomenWater']/text()}";
		rr:datatype xsd:string;
	];
    ].
